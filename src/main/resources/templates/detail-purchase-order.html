<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Detail PO</title>

    <!-- Custom fonts for this template-->
    <link rel="stylesheet" th:href="@{/vendor/fontawesome-free/css/all.min.css}" type="text/css">
    <link rel="stylesheet" th:href="@{/css/sb-admin-2.min.css}">

    <object th:include="fragments/fragment :: css-dev" th:remove="tag"></object>
    <object th:include="fragments/fragment :: js-dev" th:remove="tag"></object>

    <link
        href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
        rel="stylesheet">

    <!-- Khusus untuk Table -->
    <link rel="stylesheet" th:href="@{/vendor/datatables/dataTables.bootstrap4.min.css}">

    <script th:src="@{/vendor/datatables/jquery.dataTables.min.js}"></script>
    <script th:src="@{/vendor/datatables/dataTables.bootstrap4.min.js}"></script>
    <!-- <script th:src="@{/js/demo/datatables-demo.js}"></script> -->
    <!-- Khusus untuk Table -->

</head>

<body id="page-top">

    <!-- Page Wrapper -->
    <div id="wrapper">

        <ul th:replace="fragments/fragment :: sidebar"></ul>

        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">

            <!-- Main Content -->
            <div id="content">

                <!-- Topbar -->
                <nav th:replace="fragments/fragment :: navbar"></nav>
                <!-- End of Topbar -->

                <!-- Begin Page Content -->
                <div class="container-fluid">
                    <div class="card shadow mb-4">
                        <div class="card-header py-3">
                            <h3 class="m-0 font-weight-bold">Detail Purchase Order</h3>
                        </div>
                        <div class="card-body">
                            <table class="table table-borderless">
                                <tbody>
                                <tr>
                                    <td>
                                        <p>
                                            <b>
                                                Nomor Purchase Order
                                            </b>
                                        </p>
                                    </td>
                                    <td style="vertical-align: middle;">
                                        <p th:text="${purchaseOrder.nomorPurchaseOrder}"></p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <p>
                                            <b>
                                                Nomor Invoice
                                            </b>
                                        </p>
                                    </td>
                                    <td style="vertical-align: middle;">
                                        <p th:text=" ${purchaseOrder.nomorInvoice}"></p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <p>
                                            <b>
                                                Pembuat Purchase Order
                                            </b>
                                        </p>
                                    </td>
                                    <td style="vertical-align: middle;">
                                        <p th:text="${purchaseOrder.creator.nama}"></p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <p>
                                            <b>
                                                Nama Vendor
                                            </b>
                                        </p>
                                    </td>
                                    <td style="vertical-align: middle;">
                                        <p th:text=" ${purchaseOrder.vendor.namaVendor}"></p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <p>
                                            <b>
                                                Tanggal Purchase Order Dibuat
                                            </b>
                                        </p>
                                    </td>
                                    <td style="vertical-align: middle;">
                                        <p th:text="${#dates.format(purchaseOrder.tanggalOpen, 'dd MMMM, yyyy')}"></p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <p>
                                            <b>
                                                Tanggal Update Purchase Order Terakhir
                                            </b>
                                        </p>
                                    </td>
                                    <td style="vertical-align: middle;">
                                        <p th:text="${#dates.format(purchaseOrder.tanggalUpdate, 'dd MMMM, yyyy')}"></p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <p>
                                            <b>
                                                Tanggal Purchase Order Dibayar
                                            </b>
                                        </p>
                                    </td>
                                    <td style="vertical-align: middle;">
                                        <p th:text="${#dates.format(purchaseOrder.tanggalBayar, 'dd MMMM, yyyy')}"></p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <p>
                                            <b>
                                                Tanggal Purchase Order Ditutup
                                            </b>
                                        </p>
                                    </td>
                                    <td style="vertical-align: middle;">
                                        <p th:text="${#dates.format(purchaseOrder.tanggalClose, 'dd MMMM, yyyy')}"></p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <p>
                                            <b>
                                                Status Purchase Order
                                            </b>
                                        </p>
                                    </td>
                                    <td style="vertical-align: middle;">
                                        <p th:text="${purchaseOrder.statusPO}"></p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <p>
                                            <b>
                                                Persetujuan
                                            </b>
                                        </p>
                                    </td>
                                    <td style="vertical-align: middle;" th:if="${purchaseOrder.disetujui == true}">
                                            <i class="fas fa-check"  style="font-size:25px;"></i>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <p>
                                            <b>
                                                Detail Item
                                            </b>
                                        </p>
                                    </td>
                                    <td>
                                        <span>
                                            <table border="I" class="table-striped">
                                            <thead>
                                            <tr>
                                                <th style="text-align: center">No.</th>
                                                <th style="text-align: center">Kategori Item</th>
                                                <th style="text-align: center">Jenis Item</th>
                                                <th style="text-align: center">Jumlah Item</th>
                                                <th style="text-align: center">Harga Satuan</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr th:each="itemPO, iterationStatus : *{listItemPO}">
                                                <td th:text="${iterationStatus.count}"></td>
                                                <td th:text="${itemPO.kategoriItem.namaKategoriItem}"></td>
                                                <td th:text="${itemPO.jenisItem.namaJenisItem}"></td>
                                                <td th:text="${itemPO.jumlahItem}"></td>
                                                <td th:text="${itemPO.hargaSatuan}"></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </span>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                            <br>
                            <div class="row" dir="rtl">
                                &nbsp
                                &nbsp
                                &nbsp
                                &nbsp
                                &nbsp
                                &nbsp
                            <span th:if="${purchaseOrder.disetujui == false && role == 'Operation Manager'}">
                                <form class="form-horizontal"
                                      th:action="@{/purchase-order/approve/{nomorPurchaseOrder}/confirmation(nomorPurchaseOrder=${purchaseOrder.nomorPurchaseOrder})}" th:object="${purchaseOrder}"
                                      th:method="GET">
                                <button class="btn btn-success text-white">
                                        <span class="text" type="submit">Accept PO</span>
                                </button>
                                </form>
                            </span>
                            &nbsp
                            &nbsp
                            <span th:if="${purchaseOrder.disetujui == true && purchaseOrder.statusPO == 'Open'}">
                                <form class="form-horizontal"
                                      th:action="@{/hardware-fulfillment/item/{nomorPurchaseOrder}/close(nomorPurchaseOrder=${purchaseOrder.nomorPurchaseOrder})}"
                                      th:object="${item}"
                                      method="GET">
                                    <button class="btn btn-danger text-white">
                                        <span class="text" type="submit">Close PO Hardware</span>
                                    </button>
                                </form>
                            </span>
                                &nbsp
                                &nbsp
                            <span>
                                <form class="form-horizontal"
                                      th:action="@{/purchase-order/download/{nomorPurchaseOrder}(nomorPurchaseOrder=${purchaseOrder.nomorPurchaseOrder})}"
                                      th:method="POST">
                                <button class="btn btn-info text-white">
                                    <span class="text" value="submit">Download PDF</span>
                                </button>
                                </form>
                            </span>
                                &nbsp
                                &nbsp
                                <span th:if="${purchaseOrder.statusPO == 'Open'}">
                                <form class="form-horizontal"
                                      th:action="@{/purchase-order/update/{nomorPurchaseOrder}(nomorPurchaseOrder=${purchaseOrder.nomorPurchaseOrder})}"
                                      th:method="GET">
                                <button class="btn btn-info text-white">
                                    <span class="text" value="submit">Update</span>
                                </button>
                                </form>
                            </span>
                                &nbsp
                                &nbsp
                                <span th:if="${purchaseOrder.disetujui == false}">
                                <form class="form-horizontal"
                                      th:action="@{/purchase-order/delete/{nomorPurchaseOrder}/confirmation(nomorPurchaseOrder=${purchaseOrder.nomorPurchaseOrder})}"
                                      th:method="GET">
                                <button class="btn btn-danger text-white">
                                    <span class="text" value="submit">Delete</span>
                                </button>
                                </form>
                            </span>
                                </div>
                        </div>
                    </div>
                </div>
                <!-- /.container-fluid -->
        </div>
            <div class="container-fluid">
                <!--                <a th:href="@{/delivery-order/detail/} + ${deliveryOrder.nomorDeliveryOrder}" class="btn btn-info btn-block">Lihat Detail</a>-->
                <a th:href="@{/purchase-order/}" class="btn btn-warning btn-block">Kembali ke Daftar Purchase Order</a>
            </div>
    <!-- End of Main Content -->
    <!-- Footer -->
    <footer th:replace="fragments/fragment :: footer-dev-1"></footer>
    <!-- End of Footer -->
    </div>
    <!-- End of Content Wrapper -->
    </div>
    <!-- End of Page Wrapper -->
    <a th:replace="fragments/fragment :: scroll-to-top"></a>
    <div th:replace="fragments/fragment :: logout-modal"></div>
    <!-- Bootstrap core JavaScript-->
    <link th:href="@{/vendor/jquery/jquery.min.js}">
    <link th:href="@{/vendor/bootstrap/js/bootstrap.bundle.min.js}">
    <link th:href="@{/vendor/jquery-easing/jquery.easing.min.js}">
    <link th:href="@{/js/sb-admin-2.min.js}">
</body>

</html>